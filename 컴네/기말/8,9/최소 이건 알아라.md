좋아!
**08_네트워크계층.pdf**(기본 개념)과
**09_네트워크계층(IP, 라우팅).pdf**(IP·NAT·IPv6·Routing)
이 두 파일에서 “이건 최소한 반드시 알아야 한다”는 **핵심 개념만 싹 정리**해줄게.

(전체 PDF 내용 기반 핵심 요약)

---

# 🚀 **네트워크 계층에서 무조건 알아야 할 핵심 개념 총정리 (08 + 09 PDF)**

---

# 1️⃣ 네트워크 계층의 역할 (가장 중요한 개념)



**“출발지 → 목적지까지 패킷을 전달하는 계층”**

### 핵심 2가지 기능

1. **포워딩(Forwarding)**

   * 라우터 한 대 내부에서
     **입력 포트 → 출력 포트로 패킷을 옮기는 동작**
     (= 한 홉 내부 동작)

2. **라우팅(Routing)**

   * **전체 네트워크의 최적 경로를 계산하는 것**
   * 라우팅 알고리즘(OSPF, RIP, BGP 등)이 수행
   * 제어평면(Control Plane)의 역할

👉 **포워딩 = 한 라우터 내부**
👉 **라우팅 = 네트워크 전체**

이 구분은 매우 중요.

---

# 2️⃣ 데이터평면 vs 제어평면



| 구분   | 데이터평면(Data Plane)  | 제어평면(Control Plane)      |
| ---- | ------------------ | ------------------------ |
| 역할   | 패킷 전달(포워딩)         | 경로 계산(라우팅)               |
| 관점   | 로컬(한 라우터 내부)       | 글로벌(네트워크 전체)             |
| 속도   | 하드웨어, 매우 빠름        | 소프트웨어, 느림                |
| 구성요소 | 입력포트, 스위칭패브릭, 출력포트 | 라우팅 알고리즘(OSPF, RIP, BGP) |

---

# 3️⃣ 라우터 구조 (입력 포트 / 스위칭 패브릭 / 출력 포트)



라우터는 크게 3부분으로 구성:

1. **입력 포트**

   * MAC 처리
   * 포워딩 테이블 lookup
   * 입력 큐잉(HOL blocking 가능)

2. **스위칭 패브릭(Switching Fabric)**

   * 입력 → 출력 으로 실제 패킷 이동
   * 방식: 메모리, 버스, 상호연결망(crossbar 등)

3. **출력 포트**

   * 버퍼링, 스케줄링
   * Tail drop/RED/ECN 등 버퍼 관리

---

# 4️⃣ IP 프로토콜 (IPv4) 구조와 특징 — 최중요



### IPv4는 “비연결형, Best-effort” 전달 방식

* 패킷 손실 가능
* 순서 보장 X
* 지연 보장 X
  → 신뢰성은 TCP가 담당

### IPv4 주소

* 32bit (4옥텟)

### 중요 필드

* **TTL → Hop Limit 줄여줌**
* **Protocol → 상위 계층(TCP=6, UDP=17) 표시**
* **Header Checksum → 헤더 오류 검출**
* **Fragmentation Offset → 단편화 관련**

---

# 5️⃣ 서브넷과 CIDR — 반드시 암기



### ✔ 서브넷

* 중간 라우터 없이 직접 통신 가능한 인터페이스 집합
* 같은 네트워크 부분(prefix)을 공유

### ✔ CIDR(Classless)

* a.b.c.d / x 형식
* 클래스 기반이 아니라 **비트 단위** 주소 분할

### ✔ 라우트 요약(Route Aggregation)

* 여러 주소를 하나의 큰 prefix로 묶어 라우팅 테이블을 단순화
  예) 200.23.16.0/20 → 여러 /23 묶음

---

# 6️⃣ NAT (Network Address Translation) — 필수



### **역할**

* 사설 IP ↔ 공인 IP 변환
* IPv4 주소 부족 극복

### **PAT(Port Address Translation)**

* 가장 일반적
* 하나의 공인 IP + 여러 포트로 여러 내부 호스트 매핑

### 단점

* End-to-End 원칙 위반
* 일부 프로토콜(FTP, SIP) 호환성 문제

---

# 7️⃣ IPv6 — IPv4와 차이점



### ✔ IPv6 핵심 특징

* 128bit 주소
* 헤더 단순화 (고정 40바이트)
* **단편화는 라우터가 아닌 출발지에서만 수행**
* **체크섬 없음 (성능 향상)**
* **IPsec 기본 내장**
* SLAAC으로 자동 주소 구성

### ✔ IPv6 주소 압축

* 불필요한 0 생략
* 0 연속 블록은 “::” 로 1회만 압축 가능

---

# 8️⃣ SLAAC (IPv6 자동주소설정)



단계:

1. Link-local 주소 생성(fe80::/10)
2. Router Solicitation(RS)
3. Router Advertisement(RA)
4. Prefix 받아서 글로벌 주소 생성
5. 중복 주소 탐지(DAD)

---

# 9️⃣ 라우팅 알고리즘: 링크 상태 vs 거리 벡터



### ✔ 링크 상태 (OSPF)

* 전체 네트워크 토폴로지 학습(Flooding)
* Dijkstra 알고리즘
* 빠르고 정확함

### ✔ 거리 벡터 (RIP)

* 이웃과 거리 정보(홉수)만 교환
* Bellman-Ford 기반
* 최대 홉 15
* 느리고 규모 제한

---

# 🔟 BGP — 인터넷 라우팅의 핵심



* AS 간 라우팅 프로토콜
* 경로벡터(Path Vector) 기반
* Metric: AS Path, Local Preference
* 정책 기반 라우팅
* 전 세계 인터넷 라우팅의 중심

---

# 🔥 최종 핵심 요약 (이 정도는 반드시 알고 있어야 함)

## ⭐ 네트워크 계층 필수 10개 키포인트

1. 포워딩 vs 라우팅
2. 데이터평면 vs 제어평면
3. 라우터 구조(입력포트–스위칭패브릭–출력포트)
4. IPv4 구조와 TTL, Protocol 필드
5. 서브넷 / CIDR / 라우트 요약
6. NAT/PAT 구조와 문제점
7. IPv6 구조와 IPv4 대비 차이점
8. SLAAC 자동 주소 설정(RS/RA/DAD)
9. 라우팅 알고리즘: OSPF vs RIP
10. BGP: AS 간 정책 기반 라우팅

---

# 👍 원한다면 다음 단계로

* 위 개념 중 가장 어렵게 느껴지는 것부터 알려줘 → **그 부분만 집중 세부 설명**
* 또는 “네트워크 계층 전체 흐름도(패킷 이동 과정)”도 만들어줄 수 있어.

어떤 방식으로 이어서 공부하고 싶어?
